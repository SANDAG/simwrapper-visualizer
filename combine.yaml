runs:
  2016: \\2016_RTP
  2025: \\2025_RTP
  2035: \\2035_RTP
  2050: \\2050_RTP

outpath: \\data

tables:
  ao_by_mgra:
    merge:
      - homeMGRA
  ao_dist:
    merge:
      - index
    skip:
      - ao_counts
  ec_flows_city:
    merge:
      - origin
      - destination
  ec_flows_city_cpa:
    merge:
      - origin
      - destination
  ec_flows_mgra:
    merge:
      - origin
      - destination
  ec_flows_taz:
    merge:
      - origin
      - destination
  ec_flows_taz_full:
    merge:
      - origin
      - destination
  length_by_mode:
    merge:
      - tripMode
    separate:
      - dist_by_mode
      - time_by_mode
  length_by_mode_ec:
    merge:
      - tripMode
    separate:
      - dist_by_mode
      - time_by_mode
    suffix: ec
  length_by_mode_mh:
    merge:
      - tripMode
    separate:
      - dist_by_mode
      - time_by_mode
    suffix: mh
  mgra_od_flows:
    merge:
      - origin
      - destination
  mh_flows_taz:
    merge:
      - origin
      - destination
  mh_flows_taz_full:
    merge:
      - origin
      - destination
  mode_comparison_mh:
    merge:
      - tripMode
    separate:
      - Employment Center
      - Mobility Hub
      - Region
    suffix: ModeShare
  mode_share:
    merge:
      - tripMode
  #mode_share_by_tele
  mode_share_ec:
    merge:
      - tripMode
  mode_share_mh:
    merge:
      - tripMode
  pop_by_age:
    merge:
      - index
    skip:
      - age_count
  pop_by_race:
    merge:
      - index
    skip:
      - race_count
  purpose_share:
    merge:
      - tripPurposeDestination
    skip:
      - purpose_counts

  summary:
    transpose: stat
    merge:
      - stat
    subsets:
      summary_population:
        query: 'stat in ["num_hhs", "num_persons", "num_workers"]'
        rename:
          stat:
            num_hhs: Households
            num_persons: People
            num_workers: Workers
      summary_income:
        query: 'stat in ["hh_income"]'
        rename:
          stat:
            hh_income: "Household Income"
      summary_hhsizeveh:
        query: 'stat in ["hh_size", "auto_ownership"]'
        rename:
          stat:
            hh_size: "Household Size"
            auto_ownership: "Household Vehicles"
      summary_vmt:
        query: 'stat == "total_vmt"'
        transpose: Year
      summary_vht:
        query: 'stat == "total_vht"'
        transpose: Year
      summary_vhd:
        query: 'stat == "total_vhd"'
        transpose: Year
      summary_numtrips:
        query: 'stat in ["num_v_trips", "num_p_trips"]'
        rename:
          stat:
            num_v_trips: "Vehicle Trips"
            num_p_trips: "Person Trips"
        transpose: Year
      summary_trip_rate:
        query: 'stat in ["resident_trip_rate", "worker_trip_rate"]'
        rename:
          stat:
            resident_trip_rate: "Residents"
            worker_trip_rate: "Workers"
        transpose: Year

  summary_ec:
    transpose: stat
    merge:
      - stat
  summary_mh:
    transpose: stat
    merge:
      - stat
  transit_summary:
    merge:
      - MODE
      - ACCESSMODE
      - TOD
    total:
      MODE: Boardings
      ACCESSMODE: Boardings
      TOD: Boardings
    subsets:
      transit_boardings_by_year:
        query: 'MODE == "Boardings" and ACCESSMODE == "Boardings" and TOD == "Boardings"'
        exclude:
          - ACCESSMODE
          - TOD
        transpose: Year
  #trip_model_summary
  trips_by_tod:
    merge:
      - departTimeFiveTod
    skip:
      - trips_by_tod
  vmt_per_capita_by_city:
    merge:
      - homeCity
  vmt_per_capita_by_mgra:
    merge:
      - homeMGRA
  vmt_per_capita_by_taz:
    merge:
      - TAZ
  vmt_per_capita_by_tele:
    merge:
      - telecommuteChoice